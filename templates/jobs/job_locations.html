{% extends "jobs/base.html" %}
{% load boxes %}

{% block page_title %}Job Locations | {{ SITE_INFO.site_name }}{% endblock %}

{% block content_attributes %}with-right-sidebar{% endblock %}

{% block header_message %}Jobs by Location!{% endblock %}
{% block header_action %}{{ jobs_count }} Python jobs {% if jobs|length == 1 %}all from a single location {% else %} in {{ jobs|length }} different location{{ jobs|length|pluralize }}{% endif %}.{% endblock %}

{% block content %}
<div class="row">

    {% for j in jobs %}
    {% if forloop.first %}
    <h2>{{ j.display_country }}</h2><ol class="list-recent-jobs list-row-container menu">
    {% endif %}
    {% ifchanged j.display_country %}{% if not forloop.first %}</ol><h2>{{ j.display_country }}</h2><ol class="list-recent-jobs list-row-container menu">{% endif %}{% endifchanged %}
    {% ifchanged j.display_region j.display_city %}
    <li><a href="{% url 'jobs:job_filter_location' city_slug=j.location.slug region_slug=j.location.region.slug country_slug=j.location.country.slug %}">{{ j.display_location }}</a></li>
    {% endifchanged %}
    {% endfor %}
</div>
{% endblock content %}
